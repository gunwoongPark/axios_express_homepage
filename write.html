<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="./axios/write.js" defer></script>
    <title>Write</title>
</head>

<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark" style="position:sticky; top:0;">
        <a class="navbar-brand" href="http://localhost:3000/">Logo</a>

        <ul class="navbar-nav" style="margin-left:auto;">
            <li class=" nav-item">
                <a class="nav-link" href="http://localhost:3000/post">Post</a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" id="loginBox" onclick="goLogin()">Login</a>
            </li>
        </ul>
    </nav>

    <div class="container mt-2">

        <div class="row">
            <div class="col">
                <label for="title">Title:</label>
                <input type="text" class="form-control" id="title">
            </div>
        </div>

        <br />

        <div class="row">
            <div class="col">
                <label for="contents">Contents:</label>
                <textarea class="form-control" rows="10" id="contents"></textarea>
            </div>
        </div>

        <br />

        <div class="row ">
            <div class="col mb-2">
                <button type="button" class="btn btn-danger btn-block" id="cancelBtn"
                    onclick="clickCancel()">취소</button>
            </div>
            <div class="col ">
                <button type="button" class="btn btn-primary btn-block" id="registerBtn">등록</button>
            </div>
        </div>
    </div>

    <script>
        function goLogin() {

            if (document.querySelector('#loginBox').innerText === "Login") {
                location.href = "http://localhost:3000/login";
            }

            else {
                sessionStorage.clear();
                document.querySelector('#loginBox').innerHTML = 'Login';
                location.href = 'http://localhost:3000/post';
            }
        }

        if (sessionStorage.length) {
            document.querySelector('#loginBox').innerHTML = "Logout";
        }

        function clickCancel() {
            window.history.back();
        }
    </script>
</body>

</html>